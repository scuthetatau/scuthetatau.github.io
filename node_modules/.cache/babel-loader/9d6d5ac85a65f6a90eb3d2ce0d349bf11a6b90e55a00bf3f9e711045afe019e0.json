{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./BroDateGroups.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BroDateGroups=()=>{const[broDateGroups,setBroDateGroups]=useState([]);useEffect(()=>{const token=localStorage.getItem('token');if(token){fetchBroDateGroups(token);}},[]);const fetchBroDateGroups=async token=>{try{const response=await axios.get('http://localhost:5001/api/brodate-groups-all',{headers:{'Authorization':`Bearer ${token}`}});setBroDateGroups(response.data.groups);}catch(error){console.error('Error fetching BroDateWidget groups:',error);}};const handleReshuffleGroups=async()=>{try{const token=localStorage.getItem('token');await axios.get('http://localhost:5001/api/shuffle-groups',{headers:{'Authorization':`Bearer ${token}`}});alert('Groups reshuffled successfully!');fetchBroDateGroups(token);}catch(error){console.error('Error reshuffling groups:',error);alert('Failed to reshuffle groups.');}};const handleDownloadGroups=()=>{const currentDateString=new Date().toLocaleDateString();const formattedGroups=broDateGroups.map((group,index)=>{return`Group ${index+1}:\\n${group.map(user=>`${user.firstName} ${user.lastName} (${user.email})`).join('\\n')}\\n`;}).join('\\n');const blob=new Blob([formattedGroups],{type:'text/plain'});const link=document.createElement('a');link.href=window.URL.createObjectURL(blob);link.download=`Brodate Groups ${currentDateString}.txt`;document.body.appendChild(link);link.click();document.body.removeChild(link);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"BroDate Groups\"}),/*#__PURE__*/_jsx(\"div\",{className:\"brodate-groups-container\",children:broDateGroups.map((group,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"brodate-group-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"brodate-group-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Group \",index+1]}),/*#__PURE__*/_jsx(\"ul\",{children:group.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[user.firstName,\" \",user.lastName,\" (\",user.email,\")\"]},user.email))})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleReshuffleGroups,className:\"reshuffle-button\",children:\"Reshuffle Groups\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadGroups,className:\"download-button\",children:\"Download .txt file\"})]})]});};export default BroDateGroups;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","BroDateGroups","broDateGroups","setBroDateGroups","token","localStorage","getItem","fetchBroDateGroups","response","get","headers","data","groups","error","console","handleReshuffleGroups","alert","handleDownloadGroups","currentDateString","Date","toLocaleDateString","formattedGroups","map","group","index","user","firstName","lastName","email","join","blob","Blob","type","link","document","createElement","href","window","URL","createObjectURL","download","body","appendChild","click","removeChild","children","className","onClick"],"sources":["/Users/tavenharris/Documents/GitHub/scu_tt_website/src/components/Admin/widgets/BroDateGroups.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './BroDateGroups.css';\n\nconst BroDateGroups = () => {\n    const [broDateGroups, setBroDateGroups] = useState([]);\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            fetchBroDateGroups(token);\n        }\n    }, []);\n\n    const fetchBroDateGroups = async (token) => {\n        try {\n            const response = await axios.get('http://localhost:5001/api/brodate-groups-all', {\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            });\n            setBroDateGroups(response.data.groups);\n        } catch (error) {\n            console.error('Error fetching BroDateWidget groups:', error);\n        }\n    };\n\n    const handleReshuffleGroups = async () => {\n        try {\n            const token = localStorage.getItem('token');\n            await axios.get('http://localhost:5001/api/shuffle-groups', {\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            });\n\n            alert('Groups reshuffled successfully!');\n            fetchBroDateGroups(token);\n        } catch (error) {\n            console.error('Error reshuffling groups:', error);\n            alert('Failed to reshuffle groups.');\n        }\n    };\n\n    const handleDownloadGroups = () => {\n        const currentDateString = new Date().toLocaleDateString();\n        const formattedGroups = broDateGroups.map((group, index) => {\n            return `Group ${index + 1}:\\n${group.map(user => `${user.firstName} ${user.lastName} (${user.email})`).join('\\n')}\\n`;\n        }).join('\\n');\n        const blob = new Blob([formattedGroups], { type: 'text/plain' });\n        const link = document.createElement('a');\n        link.href = window.URL.createObjectURL(blob);\n        link.download = `Brodate Groups ${currentDateString}.txt`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    };\n\n    return (\n        <div>\n            <h2>BroDate Groups</h2>\n            <div className=\"brodate-groups-container\">\n                {broDateGroups.map((group, index) => (\n                    <div className=\"brodate-group-card\" key={index}>\n                        <div className=\"brodate-group-content\">\n                            <h2>Group {index + 1}</h2>\n                            <ul>\n                                {group.map(user => (\n                                    <li key={user.email}>{user.firstName} {user.lastName} ({user.email})</li>\n                                ))}\n                            </ul>\n                        </div>\n                    </div>\n                ))}\n            </div>\n            <div className=\"button-container\">\n                <button onClick={handleReshuffleGroups} className=\"reshuffle-button\">\n                    Reshuffle Groups\n                </button>\n                <button onClick={handleDownloadGroups} className=\"download-button\">\n                    Download .txt file\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default BroDateGroups;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}